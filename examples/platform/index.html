<!doctype html>


<html lang="en">
    <head>

    </head>


    <body>
        <img id="right_knight" src="knight.png" alt="Knight" style="display:none">
        <img id="left_knight" src="knight_flip.png" alt="Knight" style="display:none">
        <img id="platform" src="blocks_5.png" alt="Platforms" style="display:none">



        <canvas id="canvas1" width="800" height="600" style="border:1px solid #000000;"></canvas>





        <script>
        </script>

        
        <script type="text/javascript" src="engine.js"></script>
        <script type="text/javascript" src="knight.js"></script>
        <script type="text/javascript" src="platform.js"></script>
        <script>

                var engine = new game_engine.engine("canvas1","webGL").withCollisionDetector("rectangle").withGlobalOffScreenHandler("destructive");
                
                var rightKnight = document.getElementById("right_knight");
                var leftKnight = document.getElementById("left_knight");
                var platform = document.getElementById("platform");
    
                engine.loadImage("static_right_knight", rightKnight,1, 6, 16, 22, 34, 24,5);
                engine.loadImage("right_knight", rightKnight,6, 6, 16, 22, 34, 24,5);
                engine.loadImage("static_left_knight",leftKnight,1, 6, 16, 22, 45, 24,5);
                engine.loadImage("left_knight",leftKnight,6, 6, 16, 22, 45, 24,5);
                engine.loadImage("platform", platform);

                new Knight(engine);
                new Platform(engine).setImage("platform").setPosition(1,500).setWidthAndHeight(200,30);
                new Platform(engine).setImage("platform").setPosition(100,460).setWidthAndHeight(50,30);
                new Platform(engine).setImage("platform").setPosition(300,400).setWidthAndHeight(50,30).setSpeedY(2).withOffScreenHandler("wrapping");
                new Platform(engine).setImage("platform").setPosition(400,400).setWidthAndHeight(50,30).setSpeedY(-2).withOffScreenHandler("wrapping");
                new Platform(engine).setImage("platform").setPosition(500,200).setWidthAndHeight(50,30).setSpeedY(2).withOffScreenHandler("wrapping");
                new Platform(engine).setImage("platform").setPosition(600,100).setWidthAndHeight(100,30);

                

                var gravity = 0.3;

                engine.withUpdateHandler(function (timeSinceStart, keyEvents) {
                    engine.forEach(function (sprite) {
                        sprite.addForceVector(270, gravity);
                    });
                });


                engine.start();





        </script>





    </body>
</html>


